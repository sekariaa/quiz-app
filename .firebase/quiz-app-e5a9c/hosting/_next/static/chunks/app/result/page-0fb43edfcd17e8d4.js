(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[609],{2710:function(e,r,t){Promise.resolve().then(t.bind(t,7929))},5514:function(e,r,t){"use strict";t.d(r,{AuthProvider:function(){return c},a:function(){return o}});var n=t(7437),s=t(2265),a=t(148);let i=(0,s.createContext)(void 0),c=e=>{let{children:r}=e,[t,c]=(0,s.useState)(null),[o,l]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{let e=(0,a.Vy)().onAuthStateChanged(e=>{c(e),l(!1)});return()=>e()},[]),(0,n.jsx)(i.Provider,{value:{user:t,loading:o},children:r})},o=()=>{let e=(0,s.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},1225:function(e,r,t){"use strict";var n=t(3963);r.Z=void 0;var s=n(t(9118)),a=t(7437);r.Z=(0,s.default)((0,a.jsx)("path",{d:"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}),"ArrowBackIos")},9619:function(e,r,t){"use strict";var n=t(3963);r.Z=void 0;var s=n(t(9118)),a=t(7437);r.Z=(0,s.default)((0,a.jsx)("path",{d:"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8m-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91"}),"RestartAlt")},468:function(e,r,t){"use strict";t.d(r,{Z:function(){return I}});var n=t(8646),s=t(3950),a=t(5520),i=t(2265),c=t(4839),o=t(6259),l=t(3098),u=t(2272),d=t(2390),f=t(3536),h=t(4535),x=t(7542);function m(e){return(0,x.ZP)("MuiCircularProgress",e)}(0,h.Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var p=t(7437);function v(){let e=(0,n._)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"]);return v=function(){return e},e}function g(){let e=(0,n._)(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"]);return g=function(){return e},e}function y(){let e=(0,n._)(["\n      animation: "," 1.4s linear infinite;\n    "]);return y=function(){return e},e}function j(){let e=(0,n._)(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]);return j=function(){return e},e}let w=["className","color","disableShrink","size","style","thickness","value","variant"],b=e=>e,N,Z,k,P,S=(0,l.F4)(N||(N=b(v()))),C=(0,l.F4)(Z||(Z=b(g()))),E=e=>{let{classes:r,variant:t,color:n,disableShrink:s}=e,a={root:["root",t,"color".concat((0,u.Z)(n))],svg:["svg"],circle:["circle","circle".concat((0,u.Z)(t)),s&&"circleDisableShrink"]};return(0,o.Z)(a,m,r)},z=(0,f.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,r)=>{let{ownerState:t}=e;return[r.root,r[t.variant],r["color".concat((0,u.Z)(t.color))]]}})(e=>{let{ownerState:r,theme:t}=e;return(0,a.Z)({display:"inline-block"},"determinate"===r.variant&&{transition:t.transitions.create("transform")},"inherit"!==r.color&&{color:(t.vars||t).palette[r.color].main})},e=>{let{ownerState:r}=e;return"indeterminate"===r.variant&&(0,l.iv)(k||(k=b(y(),0)),S)}),M=(0,f.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,r)=>r.svg})({display:"block"}),D=(0,f.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,r)=>{let{ownerState:t}=e;return[r.circle,r["circle".concat((0,u.Z)(t.variant))],t.disableShrink&&r.circleDisableShrink]}})(e=>{let{ownerState:r,theme:t}=e;return(0,a.Z)({stroke:"currentColor"},"determinate"===r.variant&&{transition:t.transitions.create("stroke-dashoffset")},"indeterminate"===r.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})},e=>{let{ownerState:r}=e;return"indeterminate"===r.variant&&!r.disableShrink&&(0,l.iv)(P||(P=b(j(),0)),C)});var I=i.forwardRef(function(e,r){let t=(0,d.Z)({props:e,name:"MuiCircularProgress"}),{className:n,color:i="primary",disableShrink:o=!1,size:l=40,style:u,thickness:f=3.6,value:h=0,variant:x="indeterminate"}=t,m=(0,s.Z)(t,w),v=(0,a.Z)({},t,{color:i,disableShrink:o,size:l,thickness:f,value:h,variant:x}),g=E(v),y={},j={},b={};if("determinate"===x){let e=2*Math.PI*((44-f)/2);y.strokeDasharray=e.toFixed(3),b["aria-valuenow"]=Math.round(h),y.strokeDashoffset="".concat(((100-h)/100*e).toFixed(3),"px"),j.transform="rotate(-90deg)"}return(0,p.jsx)(z,(0,a.Z)({className:(0,c.Z)(g.root,n),style:(0,a.Z)({width:l,height:l},j,u),ownerState:v,ref:r,role:"progressbar"},b,m,{children:(0,p.jsx)(M,{className:g.svg,ownerState:v,viewBox:"".concat(22," ").concat(22," ").concat(44," ").concat(44),children:(0,p.jsx)(D,{className:g.circle,style:y,ownerState:v,cx:44,cy:44,r:(44-f)/2,fill:"none",strokeWidth:f})})}))})},148:function(e,r,t){"use strict";t.d(r,{DM:function(){return p},F7:function(){return m},Mo:function(){return l},Ms:function(){return h},Vy:function(){return o},cL:function(){return u},n2:function(){return f},sp:function(){return x},v$:function(){return d}});var n=t(5236),s=t(5735),a=t(9842);(0,n.C6)().length||(0,n.ZF)({apiKey:"AIzaSyC0asw5YPc1NtfiwOWPDs6DSJzSu4v2rag",authDomain:"quiz-app-e5a9c.firebaseapp.com",projectId:"quiz-app-e5a9c",storageBucket:"quiz-app-e5a9c.appspot.com",messagingSenderId:"1052981741207",appId:"1:1052981741207:web:659750b96c46cdd7b94bd2"});let i=(0,s.v0)(),c=(0,a.ad)(),o=()=>i,l=async(e,r,t)=>{let n=(0,a.IO)((0,a.hJ)(c,"users"),(0,a.ar)("username","==",t));if(!(await (0,a.PL)(n)).empty){let e=Error("Username already exists");throw e.code="auth/username-already-in-use",e}let o=(await (0,s.Xb)(i,e,r)).user.uid;await (0,a.pl)((0,a.JU)(c,"users",o),{username:t})},u=async(e,r)=>{await (0,s.e5)(i,e,r)},d=e=>{switch(e){case"auth/user-not-found":return"Email not registered";case"auth/wrong-password":return"Wrong password";default:return"Incorrect email or password"}},f=e=>{switch(e){case"auth/email-already-in-use":return"Email has been registered";case"auth/username-already-in-use":return"Username already exists";default:return"An error occurred during the sign up process"}},h=async e=>{try{let r=(0,a.JU)(c,"users",e),t=await (0,a.QT)(r);if(t.exists())return t.data().username;return console.log("No such document!"),null}catch(e){return console.error("Error getting document:",e),null}},x=async(e,r,t)=>{try{await (0,a.pl)((0,a.JU)(c,"users",e),{correct:r,incorrect:t,score:20*r},{merge:!0})}catch(e){console.error("Error saving score to Firestore:",e)}},m=async e=>{try{let r=(0,a.JU)(c,"users",e),t=await (0,a.QT)(r);if(!t.exists())return console.log("No such document!"),null;{let e=t.data();return{correct:e.correct,incorrect:e.incorrect,score:e.score}}}catch(e){return console.error("Error getting document:",e),null}},p=async()=>{try{let e=[];return(await (0,a.PL)((0,a.hJ)(c,"users"))).forEach(r=>{let t=r.data(),n={userId:r.id,username:t.username,score:t.score};e.push(n)}),e}catch(e){return console.error("Error getting scores:",e),null}}},7929:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return h}});var n=t(7437),s=t(2265),a=t(5514),i=t(148),c=t(7138),o=t(1225),l=t(468),u=t(9619),d=()=>{let{user:e}=(0,a.a)(),[r,t]=(0,s.useState)(null),[d,f]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{(async()=>{e?(f(!0),t(await (0,i.F7)(e.uid)),f(!1)):(f(!1),console.log("Failed to fetch result data."))})()},[e]),(0,n.jsxs)("div",{className:"bg-secondary min-h-screen px-6 py-6 ",children:[(0,n.jsxs)("div",{className:"max-w-[1640px] mx-auto",children:[(0,n.jsx)(c.default,{href:"/",passHref:!0,children:(0,n.jsxs)("button",{className:"text-primary",children:[(0,n.jsx)(o.Z,{}),"Back"]})}),(0,n.jsx)("h1",{className:"text-center text-lg text-primary font-bold pb-2",children:"Quiz Result"})]}),d?(0,n.jsx)("div",{className:"flex justify-center items-center",children:(0,n.jsx)(l.Z,{style:{color:"#21888E"}})}):r&&(0,n.jsxs)("div",{className:"bg-light rounded-3xl p-5 flex-col mx-auto space-y-3 md:w-1/3 xl:w-1/6 shadow-2xl",children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("p",{className:"text-gray-900",children:"Score"}),(0,n.jsx)("p",{className:"font-bold text-5xl text-primary",children:r.score})]}),(0,n.jsxs)("div",{className:"flex gap-3 justify-center items-center",children:[(0,n.jsxs)("div",{className:"outline outline-1 outline-primary rounded-xl p-2 w-1/2",children:[(0,n.jsx)("p",{className:"text-xs text-gray-900 text-center",children:"Correct"}),(0,n.jsx)("p",{className:"font-bold text-center text-gray-900",children:r.correct})]}),(0,n.jsxs)("div",{className:"outline outline-1 outline-primary rounded-xl p-2 w-50 w-1/2",children:[(0,n.jsx)("p",{className:"text-xs text-gray-900 text-center",children:"Incorrect"}),(0,n.jsx)("p",{className:"font-bold text-center text-gray-900",children:r.incorrect})]})]}),(0,n.jsx)("div",{className:"flex items-center justify-center",children:(0,n.jsx)(c.default,{href:"quiz",passHref:!0,children:(0,n.jsxs)("div",{className:"flex justify-between space-x-2 outline outline-1 rounded-full py-1 px-2 text-primary hover:font-bold",children:[(0,n.jsx)("button",{children:"Restart Quiz"}),(0,n.jsx)(u.Z,{})]})})})]})]})},f=t(3716),h=()=>(0,n.jsx)(f.Z,{children:(0,n.jsx)(d,{})})},3716:function(e,r,t){"use strict";var n=t(7437),s=t(2265),a=t(5514),i=t(6463),c=t(6648);r.Z=e=>{let{children:r}=e,{user:t,loading:o}=(0,a.a)(),l=(0,i.useRouter)();return((0,s.useEffect)(()=>{o||t||l.push("/signin")},[t,o,l]),o)?(0,n.jsxs)("div",{className:"bg-primary min-h-screen flex items-center justify-center space-x-2",children:[(0,n.jsx)(c.default,{src:"/image-page.png",width:100,height:100,alt:"Picture of quiz app"}),(0,n.jsx)("h1",{className:"font-bold text-white text-3xl",children:"QUIZ APP"})]}):(0,n.jsx)(n.Fragment,{children:t?r:null})}},8646:function(e,r,t){"use strict";function n(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}t.d(r,{_:function(){return n}})}},function(e){e.O(0,[358,54,899,269,138,648,971,23,744],function(){return e(e.s=2710)}),_N_E=e.O()}]);