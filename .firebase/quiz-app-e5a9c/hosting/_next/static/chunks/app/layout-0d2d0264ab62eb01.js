(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{7029:function(e,r,t){Promise.resolve().then(t.bind(t,5514)),Promise.resolve().then(t.t.bind(t,1034,23)),Promise.resolve().then(t.t.bind(t,3054,23))},5514:function(e,r,t){"use strict";t.d(r,{AuthProvider:function(){return o},a:function(){return c}});var n=t(7437),a=t(2265),s=t(148);let u=(0,a.createContext)(void 0),o=e=>{let{children:r}=e,[t,o]=(0,a.useState)(null),[c,i]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{let e=(0,s.Vy)().onAuthStateChanged(e=>{o(e),i(!1)});return()=>e()},[]),(0,n.jsx)(u.Provider,{value:{user:t,loading:c},children:r})},c=()=>{let e=(0,a.useContext)(u);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},148:function(e,r,t){"use strict";t.d(r,{DM:function(){return y},F7:function(){return p},Mo:function(){return i},Ms:function(){return h},Vy:function(){return c},cL:function(){return l},n2:function(){return f},sp:function(){return m},v$:function(){return d}});var n=t(5236),a=t(5735),s=t(9842);(0,n.C6)().length||(0,n.ZF)({apiKey:"AIzaSyC0asw5YPc1NtfiwOWPDs6DSJzSu4v2rag",authDomain:"quiz-app-e5a9c.firebaseapp.com",projectId:"quiz-app-e5a9c",storageBucket:"quiz-app-e5a9c.appspot.com",messagingSenderId:"1052981741207",appId:"1:1052981741207:web:659750b96c46cdd7b94bd2"});let u=(0,a.v0)(),o=(0,s.ad)(),c=()=>u,i=async(e,r,t)=>{let n=(0,s.IO)((0,s.hJ)(o,"users"),(0,s.ar)("username","==",t));if(!(await (0,s.PL)(n)).empty){let e=Error("Username already exists");throw e.code="auth/username-already-in-use",e}let c=(await (0,a.Xb)(u,e,r)).user.uid;await (0,s.pl)((0,s.JU)(o,"users",c),{username:t})},l=async(e,r)=>{await (0,a.e5)(u,e,r)},d=e=>{switch(e){case"auth/user-not-found":return"Email not registered";case"auth/wrong-password":return"Wrong password";default:return"Incorrect email or password"}},f=e=>{switch(e){case"auth/email-already-in-use":return"Email has been registered";case"auth/username-already-in-use":return"Username already exists";default:return"An error occurred during the sign up process"}},h=async e=>{try{let r=(0,s.JU)(o,"users",e),t=await (0,s.QT)(r);if(t.exists())return t.data().username;return console.log("No such document!"),null}catch(e){return console.error("Error getting document:",e),null}},m=async(e,r,t)=>{try{await (0,s.pl)((0,s.JU)(o,"users",e),{correct:r,incorrect:t,score:20*r},{merge:!0})}catch(e){console.error("Error saving score to Firestore:",e)}},p=async e=>{try{let r=(0,s.JU)(o,"users",e),t=await (0,s.QT)(r);if(!t.exists())return console.log("No such document!"),null;{let e=t.data();return{correct:e.correct,incorrect:e.incorrect,score:e.score}}}catch(e){return console.error("Error getting document:",e),null}},y=async()=>{try{let e=[];return(await (0,s.PL)((0,s.hJ)(o,"users"))).forEach(r=>{let t=r.data(),n={userId:r.id,username:t.username,score:t.score};e.push(n)}),e}catch(e){return console.error("Error getting scores:",e),null}}},3054:function(){},1034:function(e){e.exports={style:{fontFamily:"'__Inter_aaf875', '__Inter_Fallback_aaf875'",fontStyle:"normal"},className:"__className_aaf875"}}},function(e){e.O(0,[6,358,54,537,971,23,744],function(){return e(e.s=7029)}),_N_E=e.O()}]);